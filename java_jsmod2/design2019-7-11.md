# Jsmod2最后一阶段的设计

目前，整个jsmod2在接近完成

* 剩余一些api的定义
    * api的数据定义
    * api各个方法的发包定义
* 数据包发送
    * 协议定义
        * GetPacket
        * SetPacket
    * 根据DataPacket的协议规定操作
    
    &对于获取指定玩家手中物品的
    
    94-
    ```json
      {
        "id"    : 94, 
        "type"  : "item",
        "field" : "position",
        "player": "itemId"
      }
    ```
    
    &对于物品，用itemId来标示item(C#的一个Item tag)
    
    &c#需要做的就是生成id和物品的映射，以及处理物品请求，通过id定位物品
    
    &对于其他事件产生的实体也通过id和物品的映射进行
    
    &探究下getComponent这个方法

    &针对于map数组部分，添加一个发送数组(type:array)的部分，可以将数组切分(在Response部分添加一个方法，挨个拆分转换，放进去)

    &未来添加一些Smod2的其他东西，补全一些缺口
    
    &发包部分
        &事件设置的发包(事件中的Set)
        &事件的对象发包(对象中的Set)
        &每个api对象都有一个自己的id，都间接或者直接的继承ApiId